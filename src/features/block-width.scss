body {
  --file-line-width: 40rem;
}
.markdown-source-view {
  --file-line-width: 40rem !important;
}
.wide,
.table-wide,
.img-wide,
.iframe-wide,
.map-wide,
.chart-wide {
  --file-line-width: 50rem;
}
.max,
.table-max,
.img-max,
.iframe-max,
.map-max,
.chart-max {
  --file-line-width: 100%;
}
.table-100,
.img-100,
.iframe-100,
.map-100,
.chart-100 {
  --file-line-width: 100%;
  --file-margins: 32px 0;
}

// Table
.table-wide {
  --table-line-width: 50em;
}
.table-max {
  --table-line-width: calc(100% - (32px * 2));
}
.table-100 {
  --table-line-width: 100%;
}
.table-wide,
.table-max,
.table-100 {
  .markdown-preview-sizer > div.el-table:is(.el-table)[dir] {
    max-width: var(--table-line-width) !important;
  }
  .markdown-preview-sizer > div:not(.el-table) {
    max-width: 40rem !important;
    margin-left: auto !important;
    margin-right: auto !important;
    width: 100%;
  }
}

// Image
.img-wide {
  --img-line-width: 50em;
}
.img-max {
  --img-line-width: calc(100% - (32px * 2));
}
.img-100 {
  --img-line-width: 100%;
}
.img-wide,
.img-max,
.img-100 {
  .markdown-preview-sizer > div.el-p:has(img[src]):is(.el-p:has(img[src])) {
    max-width: var(--img-line-width) !important;
  }
  .markdown-preview-sizer > div:not(.el-p:has(img)) {
    max-width: 40rem !important;
    margin-left: auto !important;
    margin-right: auto !important;
    width: 100%;
  }
}

// iframe
.iframe-wide {
  --iframe-line-width: 50em;
}
.iframe-max {
  --iframe-line-width: calc(100% - (32px * 2));
}
.iframe-100 {
  --iframe-line-width: 100%;
}
.iframe-wide,
.iframe-max,
.iframe-100 {
  .markdown-preview-sizer > div.el-p:has(iframe[src]):is(.el-p:has(iframe[src])) {
    max-width: var(--iframe-line-width) !important;
  }
  .markdown-preview-sizer > div:not(.el-p:has(iframe)) {
    max-width: 40rem !important;
    margin-left: auto !important;
    margin-right: auto !important;
    width: 100%;
  }
}

// Map
.map-wide {
  --map-line-width: 50em;
}
.map-max {
  --map-line-width: calc(100% - (32px * 2));
}
.map-100 {
  --map-line-width: 100%;
}
.map-wide,
.map-max,
.map-100 {
  .markdown-preview-sizer > div.el-pre:has(.block-language-leaflet[style]):is(.el-pre:has(.block-language-leaflet[style])) {
    max-width: var(--map-line-width) !important;
  }
  .markdown-preview-sizer > div:not(.el-pre:has(.block-language-leaflet)) {
    max-width: 40rem !important;
    margin-left: auto !important;
    margin-right: auto !important;
    width: 100%;
  }
}

// Chart
.chart-wide {
  --chart-line-width: 50em;
}
.chart-max {
  --chart-line-width: calc(100% - (32px * 2));
}
.chart-100 {
  --chart-line-width: 100%;
}
.chart-wide,
.chart-max,
.chart-100 {
  .markdown-preview-sizer > div.el-pre:has(.block-language-chart[style]):is(.el-pre:has(.block-language-chart[style])) {
    max-width: var(--chart-line-width) !important;
  }
  .markdown-preview-sizer > div:not(.el-pre:has(.block-language-chart)) {
    max-width: 40rem !important;
    margin-left: auto !important;
    margin-right: auto !important;
    width: 100%;
  }
}

// Fix content centering
.markdown-preview-sizer > div,
.cm-content {
  margin: 0 auto;
}

// Fix image width
.cm-contentContainer > .cm-content > img {
  width: revert-layer !important;
}

// Fix table padding
.table-100 {
  .cm-contentContainer > .cm-content > div:is(.cm-table-widget) {
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
}
.img-wide,
.iframe-wide,
.map-wide,
.chart-wide {
  .cm-contentContainer > .cm-content > div:is(.cm-table-widget) {
    margin-left: calc(5rem - var(--table-drag-handle-size)) !important;
    margin-right: calc(5rem - var(--table-drag-handle-size)) !important;
  }
}
.img-max,
.img-100,
.iframe-max,
.iframe-100,
.map-max,
.map-100,
.chart-max,
.chart-100 {
  .cm-contentContainer > .cm-content > div:is(.cm-table-widget) {
    max-width: calc(40em + (var(--table-drag-handle-size) * 2)) !important;
  }
}
